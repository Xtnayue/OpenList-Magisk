# Changelog

#### 截止2025-7/7 3:40
#### 有个issue提要在机顶盒没有音量键的设备上使用，依照面具安装界面无法做到用遥控器或者使用输入数字的方案来选择安装位置。如果每个功能项都使用延时10秒自动确认(无论是否切换)，用面具自带的busybox命令很难实现(要是刷一下直接秒过，要么音量键无反应，要么就卡在第一项永久不动)，使用bash命令实现则非常完美，但是bash命令在某些安卓(比如小新pad)连刷机脚本都直接报错。如果废除当前的刷机逻辑使用最基本固定的安装路径又无法满足选择其它安装目录的所有人。

#### 鱼和熊掌不可兼得，以后或许会考虑使用github actions自动打包机顶盒专用模块，或者32/64/x86分别打包，再加一个通用包。


————————————————————

#### 下一个版本的openlist模块由机器人自动构建，模块有功能性或修复bug的我会在此说明。摆烂中....(下一次你还是看到此信息，说明我在摆烂)

#### 在此感谢[![TianwanTW's GitHub](https://img.shields.io/badge/GitHub-TianwanTW-blue?logo=github)](https://github.com/TianwanTW)大佬提交的PR，使用基于magisk提供的busybox的语法重写了customize.sh刷机脚本，解决了部分安卓用户死在刷机脚本无法执行这一步。

@TianwanTW https://github.com/TianwanTW


#### 截止2025-6/25 3:09
#### 更新日志：优化 service.sh，实现局域网IP和动态端口异步并行获取，增加失败重试(每间隔1秒请求一次直到成功为止，最多30次/秒中止逻辑死循环)，缩短启动时间，修复潜在的网络延迟和端口绑定超时问题，增强日志记录和错误处理。




#### 截止2025/6/24 21:54
#### 更新了自述文档，根据busybox语法重构customize.sh刷机脚本解决部分用户无法刷入模块的问题。(之前的customize.sh刷机脚本使用的是纯bash语法，有人可以有人不行)
#### ~~目前已知问题，获取WLAN时会显示报错，临时解决办法。点击magisk面板里面的“操作”，一开一关它又行了。。。不知道啥问题，有空再查。~~(已修复)


##### 历史更新👇🏻

#### 1、修复了升级覆盖安装时丢数据问题(magisk的锅)
#### 2、删除迁移代码，增加了代码复杂性，导致启动问题。
#### 3、安装时支持音量键选择自定义二进制安装路径，分别为adb/openlist、安装目录/bin、system/bin。
#### 4、安装时音量键可选生成初始密码，magisk主页可以查看初始密码admin
#### 5、安装时音量键可以自定义数据目录，分别为adb/openlist和Android/openlist
#### 6、修复一些玄学问题，删除一些垃圾代码。
#### 7、支持magisk主页查看局域网、端口、密码等。
#### 8、如果你不想在magisk主页显示初始密码，可以到数据目录把“初始密码.txt”给删除掉，它就不再显示密码。
#### 9、是否支持TWRE刷入？我哪知道，我又没测试。光是测试当前这个模块我就重启了无数遍手机。你们自己测试。
#### 下个版本模块更新预告，可能会考虑增加frpc和aria2、caddy、ddnsgo等。
#### 有问题你们提ISS，有空我就会看。